{"version":3,"sources":["reagent/dom/client.cljs"],"mappings":"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","names":["var_args","G__22027","reagent.dom.client/create-root","js/Error","container","js/module$node_modules$react_dom$client.createRoot","options","reagent.dom.client/unmount","root","reagent.dom.client/reagent-root","js-props","js/module$node_modules$react$index.useEffect","*always-update*-orig-val__22040","*always-update*-temp-val__22041","reagent.impl.util/*always-update*","reagent.impl.batching/flush-after-render","js/undefined","*always-update*-orig-val__22044","*always-update*-temp-val__22045","js/module$node_modules$react$index.createElement","G__22052","reagent.dom.client/render","el","reagent.dom.client.render","compiler","strict-mode?","reagent.impl.batching/react-flush","js/module$node_modules$react_dom$index.flushSync","eff-compiler","or__5142__auto__","reagent.impl.template/*current-default-compiler*","comp","reagent.impl.protocols/as-element","_","rg-root-el","cljs.core/not","js/module$node_modules$react$index.StrictMode","G__22069","reagent.dom.client/hydrate-root","p__22081","map__22083","cljs.core/--destructure-map","cljs.core.get","reagent.dom.client.hydrate_root","on-recoverable-error","identifier-prefix","js/module$node_modules$react_dom$client.hydrateRoot"],"sourcesContent":["(ns reagent.dom.client\n  (:require [\"react\" :as react]\n            [\"react-dom/client\" :as react-dom-client]\n            [\"react-dom\" :as react-dom]\n            [reagent.impl.batching :as batch]\n            [reagent.impl.protocols :as p]\n            [reagent.impl.template :as tmpl]\n            [reagent.impl.util :as util]))\n\n(defn create-root\n  \"Create a React Root connected to given container DOM element.\"\n  ([container]\n   (react-dom-client/createRoot container))\n  ([container options]\n   ;; TODO: Coerce options from Cljs to JS? Just cljs->js or only handle\n   ;; known keys?\n   ;; Also allow JS values without conversion.\n   (react-dom-client/createRoot container options)))\n\n(defn unmount\n  \"Unmount the given React Root\"\n  [^js root]\n  (.unmount root))\n\n;; Wrapper component notes:\n;; reagent-root wrapper is used to flush after-render queue after the\n;; initial mounting, only after React has really mounted nodes to DOM.\n;; FIXME: later after-render calls don't wait for React to mount nodes to DOM.\n;;\n;; comp wrapper from render or hydrate-root is used to convert the Reagent\n;; hiccup into React elements. This component is re-created on every render\n;; call to ensure React will consider it a new component always?\n;; This does mean Reagent will wrap the whole app in two levels of wrapper\n;; components. Is this a problem? No idea.\n;; Trying to use comp as a regular function in reagent-root, or calling\n;; as-element from reagent-root directlly didn't seem to work with\n;; live reloads. React didn't see new version of a component in a multi\n;; ns projects after changes.\n\n(defn- reagent-root [^js js-props]\n  ;; This will flush initial r/after-render callbacks.\n  ;; Later that queue will be flushed on Reagent render-loop.\n  (react/useEffect (fn []\n                     (binding [util/*always-update* false]\n                       (batch/flush-after-render)\n                       js/undefined)))\n  (binding [util/*always-update* true]\n    (react/createElement (.-comp js-props))))\n\n(defn render\n  \"Render the given Reagent element (i.e. Hiccup data)\n  into a given React root.\"\n  ([^js root el]\n   (render root el nil))\n  ([^js root el compiler]\n   (render root el compiler false))\n  ([^js root el compiler strict-mode?]\n   (set! batch/react-flush react-dom/flushSync)\n   (let [eff-compiler (or compiler tmpl/*current-default-compiler*)\n         comp (fn [] (p/as-element eff-compiler el))\n         js-props #js {}\n         _ (set! (.-comp js-props) comp)\n         rg-root-el (react/createElement reagent-root js-props)]\n     (.render root\n              (if-not strict-mode?\n                rg-root-el\n                (react/createElement react/StrictMode #js {} rg-root-el))))))\n\n(defn hydrate-root\n  ([container el]\n   (hydrate-root container el nil))\n  ([container el {:keys [compiler on-recoverable-error identifier-prefix]\n                  :or {compiler tmpl/*current-default-compiler*}}]\n   (set! batch/react-flush react-dom/flushSync)\n   (let [js-props #js {}\n         comp (fn [] (p/as-element compiler el))]\n     (set! (.-comp js-props) comp)\n     (react-dom-client/hydrateRoot container (react/createElement reagent-root js-props)))))\n"],"x_google_ignoreList":[0]}