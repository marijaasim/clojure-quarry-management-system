{"version":3,"sources":["quarry_management/frontend/price.cljs"],"mappings":"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","names":["quarry-management.frontend.price/selected-class","reagent.core.atom","quarry-management.frontend.price/selected-category","quarry-management.frontend.price/mass","quarry-management.frontend.price/calculated-price","quarry-management.frontend.price/date-from","quarry-management.frontend.price/date-to","quarry-management.frontend.price/revenue","quarry-management.frontend.price/price-per-ton","quarry-management.frontend.price/cell-style","quarry-management.frontend.price/header-style","cljs.core.assoc","quarry-management.frontend.price/price-table","iter__5628__auto__","s__11947","cljs.core/LazySeq","temp__5823__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5626__auto__","size__5627__auto__","cljs.core/count","b__11950","cljs.core/chunk-buffer","i__11949","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__11946","cljs.core/chunk-rest","cljs.core/first","cljs.core/cons","cljs.core/rest","cls","cljs.core.get_in","quarry-management.frontend.price/page","reagent.core.create_class","cljs.core/deref","p1__11951#","p1__11952#","p1__11953#","p1__11954#","p1__11955#","cljs.core/reset!","quarry-management.frontend.api/calculate-price","js/parseInt","js/parseFloat","result","quarry-management.frontend.api/calculate-revenue-from-to","cljs.core/chunk-first"],"sourcesContent":["(ns quarry-management.frontend.price\n  (:require [reagent.core :as r]\n            [quarry-management.frontend.api :as api]))\n\n(def selected-class (r/atom \"\"))\n(def selected-category (r/atom \"\"))\n(def mass (r/atom \"\"))\n(def calculated-price (r/atom nil))\n(def date-from (r/atom \"\"))\n(def date-to (r/atom \"\"))\n(def revenue (r/atom nil))\n\n(def price-per-ton\n  {\"A\" {1 100 2 90 3 80}\n   \"B\" {1 85  2 70 3 60}\n   \"C\" {1 70  2 55 3 40}})\n\n(def cell-style\n  {:border \"1px solid black\"\n   :padding \"8px\"\n   :text-align \"center\"})\n\n(def header-style\n  (assoc cell-style :background \"#f2f2f2\" :font-weight \"bold\"))\n\n(defn price-table []\n      [:table {:style {:border-collapse \"collapse\"\n                       :margin \"20px 0\"\n                       :width \"400px\"}}\n\n       [:thead\n        [:tr\n         [:th {:style header-style} \"Class\"]\n         [:th {:style header-style} \"1\"]\n         [:th {:style header-style} \"2\"]\n         [:th {:style header-style} \"3\"]]]\n\n       [:tbody\n        (for [cls [\"A\" \"B\" \"C\"]]\n             ^{:key cls}\n             [:tr\n              [:td {:style cell-style} cls]\n              [:td {:style cell-style} (get-in price-per-ton [cls 1])]\n              [:td {:style cell-style} (get-in price-per-ton [cls 2])]\n              [:td {:style cell-style} (get-in price-per-ton [cls 3])]])]])\n\n\n(defn page []\n      (r/create-class\n        {:reagent-render\n         (fn []\n             [:div\n              [:h2 \"Price\"]\n\n              [price-table]\n\n              [:div {:style {:margin-top \"20px\"}}\n               [:label \"Class: \"]\n               [:select {:value @selected-class\n                         :on-change #(reset! selected-class (.. % -target -value))}\n                [:option {:value \"\"} \"Select...\"]\n                [:option \"A\"] [:option \"B\"] [:option \"C\"]]\n\n               [:label {:style {:margin-left \"10px\"}} \"Category: \"]\n               [:select {:value @selected-category\n                         :on-change #(reset! selected-category (.. % -target -value))}\n                [:option {:value \"\"} \"Select...\"]\n                [:option \"1\"] [:option \"2\"] [:option \"3\"]]\n\n               [:label {:style {:margin-left \"10px\"}} \"Mass: \"]\n               [:input {:type \"number\"\n                        :value @mass\n                        :on-change #(reset! mass (.. % -target -value))}]\n\n               [:button\n                {:style {:margin-left \"10px\"}\n                 :on-click\n                 (fn []\n                     (api/calculate-price\n                       @selected-class\n                       (js/parseInt @selected-category)\n                       (js/parseFloat @mass)\n                       (fn [result]\n                           (reset! calculated-price (:price result)))))}\n                \"Calculate Price\"]\n\n               (when @calculated-price\n                     [:div {:style {:margin-top \"10px\"\n                                    :font-weight \"bold\"}}\n                      \"Price: \" @calculated-price])]\n              [:div {:style {:margin-top \"30px\"}}\n               [:label \"Date from: \"]\n               [:input {:type \"date\"\n                        :value @date-from\n                        :on-change #(reset! date-from (.. % -target -value))}]\n\n               [:label {:style {:margin-left \"10px\"}} \"Date to: \"]\n               [:input {:type \"date\"\n                        :value @date-to\n                        :on-change #(reset! date-to (.. % -target -value))}]\n\n               [:button\n                {:style {:margin-left \"10px\"}\n                 :on-click\n                 (fn []\n                     (api/calculate-revenue-from-to\n                       @date-from\n                       @date-to\n                       (fn [result]\n                           (reset! revenue (:revenue result)))))}\n                \"Calculate Total Revenue\"]\n\n               (when @revenue\n                     [:div {:style {:margin-top \"10px\"\n                                    :font-weight \"bold\"}}\n                      \"Revenue: \" @revenue])]])}))"]}