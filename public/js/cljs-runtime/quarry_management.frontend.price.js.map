{"version":3,"sources":["quarry_management/frontend/price.cljs"],"mappings":"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","names":["quarry-management.frontend.price/prices","reagent.core.atom","quarry-management.frontend.price/selected-class","quarry-management.frontend.price/selected-category","quarry-management.frontend.price/mass","quarry-management.frontend.price/calculated-price","quarry-management.frontend.price/blocks","quarry-management.frontend.price/load-data","p1__11992#","quarry-management.frontend.api/get-prices","cljs.core/reset!","p1__11993#","quarry-management.frontend.api/get-blocks","quarry-management.frontend.price/price-per-ton","quarry-management.frontend.price/cell-style","quarry-management.frontend.price/header-style","cljs.core.assoc","quarry-management.frontend.price/price-table","iter__5628__auto__","s__11995","cljs.core/LazySeq","temp__5823__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5626__auto__","size__5627__auto__","cljs.core/count","b__11997","cljs.core/chunk-buffer","i__11996","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__11994","cljs.core/chunk-rest","cljs.core/first","cljs.core/cons","cljs.core/rest","cls","cljs.core.get_in","quarry-management.frontend.price/page","reagent.core.create_class","cljs.core/deref","p1__11998#","p1__11999#","p1__12000#","quarry-management.frontend.api/calculate-price","js/parseInt","js/parseFloat","result","cljs.core/chunk-first"],"sourcesContent":["(ns quarry-management.frontend.price\n  (:require [reagent.core :as r]\n            [quarry-management.frontend.api :as api]))\n\n(def prices (r/atom {}))\n(def selected-class (r/atom \"\"))\n(def selected-category (r/atom \"\"))\n(def mass (r/atom \"\"))\n(def calculated-price (r/atom nil))\n(def blocks (r/atom []))\n\n(defn load-data []\n      (api/get-prices #(reset! prices %))\n      (api/get-blocks #(reset! blocks %)))\n\n(def price-per-ton\n  {\"A\" {1 100 2 90 3 80}\n   \"B\" {1 85  2 70 3 60}\n   \"C\" {1 70  2 55 3 40}})\n\n(def cell-style\n  {:border \"1px solid black\"\n   :padding \"8px\"\n   :text-align \"center\"})\n\n(def header-style\n  (assoc cell-style :background \"#f2f2f2\" :font-weight \"bold\"))\n\n(defn price-table []\n      [:table {:style {:border-collapse \"collapse\"\n                       :margin \"20px 0\"\n                       :width \"400px\"}}\n\n       [:thead\n        [:tr\n         [:th {:style header-style} \"Class\"]\n         [:th {:style header-style} \"1\"]\n         [:th {:style header-style} \"2\"]\n         [:th {:style header-style} \"3\"]]]\n\n       [:tbody\n        (for [cls [\"A\" \"B\" \"C\"]]\n             ^{:key cls}\n             [:tr\n              [:td {:style cell-style} cls]\n              [:td {:style cell-style} (get-in price-per-ton [cls 1])]\n              [:td {:style cell-style} (get-in price-per-ton [cls 2])]\n              [:td {:style cell-style} (get-in price-per-ton [cls 3])]])]])\n\n\n(defn page []\n      (r/create-class\n        {:component-did-mount load-data\n         :reagent-render\n         (fn []\n             [:div\n              [:h2 \"Price\"]\n\n              [price-table]\n\n              [:div {:style {:margin-top \"20px\"}}\n               [:label \"Class: \"]\n               [:select {:value @selected-class\n                         :on-change #(reset! selected-class (.. % -target -value))}\n                [:option {:value \"\"} \"Select...\"]\n                [:option \"A\"] [:option \"B\"] [:option \"C\"]]\n\n               [:label {:style {:margin-left \"10px\"}} \"Category: \"]\n               [:select {:value @selected-category\n                         :on-change #(reset! selected-category (.. % -target -value))}\n                [:option {:value \"\"} \"Select...\"]\n                [:option \"1\"] [:option \"2\"] [:option \"3\"]]\n\n               [:label {:style {:margin-left \"10px\"}} \"Mass: \"]\n               [:input {:type \"number\"\n                        :value @mass\n                        :on-change #(reset! mass (.. % -target -value))}]\n\n               [:button\n                {:style {:margin-left \"10px\"}\n                 :on-click\n                 (fn []\n                     (api/calculate-price\n                       @selected-class\n                       (js/parseInt @selected-category)\n                       (js/parseFloat @mass)\n                       (fn [result]\n                           (reset! calculated-price (:price result)))))}\n                \"Calculate Price\"]\n\n               (when @calculated-price\n                     [:div {:style {:margin-top \"10px\"\n                                    :font-weight \"bold\"}}\n                      \"Price: \" @calculated-price])]])}))\n\n\n"]}