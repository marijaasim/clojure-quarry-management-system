goog.provide('quarry_management.frontend.price');
quarry_management.frontend.price.selected_class = reagent.core.atom.cljs$core$IFn$_invoke$arity$1("");
quarry_management.frontend.price.selected_category = reagent.core.atom.cljs$core$IFn$_invoke$arity$1("");
quarry_management.frontend.price.mass = reagent.core.atom.cljs$core$IFn$_invoke$arity$1("");
quarry_management.frontend.price.calculated_price = reagent.core.atom.cljs$core$IFn$_invoke$arity$1(null);
quarry_management.frontend.price.date_from = reagent.core.atom.cljs$core$IFn$_invoke$arity$1("");
quarry_management.frontend.price.date_to = reagent.core.atom.cljs$core$IFn$_invoke$arity$1("");
quarry_management.frontend.price.revenue = reagent.core.atom.cljs$core$IFn$_invoke$arity$1(null);
quarry_management.frontend.price.price_per_ton = new cljs.core.PersistentArrayMap(null, 3, ["A",new cljs.core.PersistentArrayMap(null, 3, [(1),(100),(2),(90),(3),(80)], null),"B",new cljs.core.PersistentArrayMap(null, 3, [(1),(85),(2),(70),(3),(60)], null),"C",new cljs.core.PersistentArrayMap(null, 3, [(1),(70),(2),(55),(3),(40)], null)], null);
quarry_management.frontend.price.cell_style = new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"border","border",1444987323),"1px solid black",new cljs.core.Keyword(null,"padding","padding",1660304693),"8px",new cljs.core.Keyword(null,"text-align","text-align",1786091845),"center"], null);
quarry_management.frontend.price.header_style = cljs.core.assoc.cljs$core$IFn$_invoke$arity$variadic(quarry_management.frontend.price.cell_style,new cljs.core.Keyword(null,"background","background",-863952629),"#f2f2f2",cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([new cljs.core.Keyword(null,"font-weight","font-weight",2085804583),"bold"], 0));
quarry_management.frontend.price.price_table = (function quarry_management$frontend$price$price_table(){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"table","table",-564943036),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"border-collapse","border-collapse",919100239),"collapse",new cljs.core.Keyword(null,"margin","margin",-995903681),"20px 0",new cljs.core.Keyword(null,"width","width",-384071477),"400px"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"thead","thead",-291875296),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),quarry_management.frontend.price.header_style], null),"Class"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),quarry_management.frontend.price.header_style], null),"1"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),quarry_management.frontend.price.header_style], null),"2"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"th","th",-545608566),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),quarry_management.frontend.price.header_style], null),"3"], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tbody","tbody",-80678300),(function (){var iter__5628__auto__ = (function quarry_management$frontend$price$price_table_$_iter__11943(s__11945){
return (new cljs.core.LazySeq(null,(function (){
var s__11945__$1 = s__11945;
while(true){
var temp__5823__auto__ = cljs.core.seq(s__11945__$1);
if(temp__5823__auto__){
var s__11945__$2 = temp__5823__auto__;
if(cljs.core.chunked_seq_QMARK_(s__11945__$2)){
var c__5626__auto__ = cljs.core.chunk_first(s__11945__$2);
var size__5627__auto__ = cljs.core.count(c__5626__auto__);
var b__11948 = cljs.core.chunk_buffer(size__5627__auto__);
if((function (){var i__11947 = (0);
while(true){
if((i__11947 < size__5627__auto__)){
var cls = cljs.core._nth(c__5626__auto__,i__11947);
cljs.core.chunk_append(b__11948,cljs.core.with_meta(new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),quarry_management.frontend.price.cell_style], null),cls], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),quarry_management.frontend.price.cell_style], null),cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(quarry_management.frontend.price.price_per_ton,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cls,(1)], null))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),quarry_management.frontend.price.cell_style], null),cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(quarry_management.frontend.price.price_per_ton,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cls,(2)], null))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),quarry_management.frontend.price.cell_style], null),cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(quarry_management.frontend.price.price_per_ton,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cls,(3)], null))], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),cls], null)));

var G__11957 = (i__11947 + (1));
i__11947 = G__11957;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons(cljs.core.chunk(b__11948),quarry_management$frontend$price$price_table_$_iter__11943(cljs.core.chunk_rest(s__11945__$2)));
} else {
return cljs.core.chunk_cons(cljs.core.chunk(b__11948),null);
}
} else {
var cls = cljs.core.first(s__11945__$2);
return cljs.core.cons(cljs.core.with_meta(new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),quarry_management.frontend.price.cell_style], null),cls], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),quarry_management.frontend.price.cell_style], null),cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(quarry_management.frontend.price.price_per_ton,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cls,(1)], null))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),quarry_management.frontend.price.cell_style], null),cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(quarry_management.frontend.price.price_per_ton,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cls,(2)], null))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),quarry_management.frontend.price.cell_style], null),cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(quarry_management.frontend.price.price_per_ton,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cls,(3)], null))], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),cls], null)),quarry_management$frontend$price$price_table_$_iter__11943(cljs.core.rest(s__11945__$2)));
}
} else {
return null;
}
break;
}
}),null,null));
});
return iter__5628__auto__(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, ["A","B","C"], null));
})()], null)], null);
});
quarry_management.frontend.price.page = (function quarry_management$frontend$price$page(){
return reagent.core.create_class.cljs$core$IFn$_invoke$arity$1(new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"reagent-render","reagent-render",-985383853),(function (){
return new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"h2","h2",-372662728),"Price"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [quarry_management.frontend.price.price_table], null),new cljs.core.PersistentVector(null, 10, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"margin-top","margin-top",392161226),"20px"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label","label",1718410804),"Class: "], null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"select","select",1147833503),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"value","value",305978217),cljs.core.deref(quarry_management.frontend.price.selected_class),new cljs.core.Keyword(null,"on-change","on-change",-732046149),(function (p1__11951_SHARP_){
return cljs.core.reset_BANG_(quarry_management.frontend.price.selected_class,p1__11951_SHARP_.target.value);
})], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"option","option",65132272),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"value","value",305978217),""], null),"Select..."], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"option","option",65132272),"A"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"option","option",65132272),"B"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"option","option",65132272),"C"], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label","label",1718410804),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"margin-left","margin-left",2015598377),"10px"], null)], null),"Category: "], null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"select","select",1147833503),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"value","value",305978217),cljs.core.deref(quarry_management.frontend.price.selected_category),new cljs.core.Keyword(null,"on-change","on-change",-732046149),(function (p1__11952_SHARP_){
return cljs.core.reset_BANG_(quarry_management.frontend.price.selected_category,p1__11952_SHARP_.target.value);
})], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"option","option",65132272),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"value","value",305978217),""], null),"Select..."], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"option","option",65132272),"1"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"option","option",65132272),"2"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"option","option",65132272),"3"], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label","label",1718410804),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"margin-left","margin-left",2015598377),"10px"], null)], null),"Mass: "], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"type","type",1174270348),"number",new cljs.core.Keyword(null,"value","value",305978217),cljs.core.deref(quarry_management.frontend.price.mass),new cljs.core.Keyword(null,"on-change","on-change",-732046149),(function (p1__11953_SHARP_){
return cljs.core.reset_BANG_(quarry_management.frontend.price.mass,p1__11953_SHARP_.target.value);
})], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button","button",1456579943),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"margin-left","margin-left",2015598377),"10px"], null),new cljs.core.Keyword(null,"on-click","on-click",1632826543),(function (){
return quarry_management.frontend.api.calculate_price(cljs.core.deref(quarry_management.frontend.price.selected_class),parseInt(cljs.core.deref(quarry_management.frontend.price.selected_category)),parseFloat(cljs.core.deref(quarry_management.frontend.price.mass)),(function (result){
return cljs.core.reset_BANG_(quarry_management.frontend.price.calculated_price,new cljs.core.Keyword(null,"price","price",22129180).cljs$core$IFn$_invoke$arity$1(result));
}));
})], null),"Calculate Price"], null),(cljs.core.truth_(cljs.core.deref(quarry_management.frontend.price.calculated_price))?new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"margin-top","margin-top",392161226),"10px",new cljs.core.Keyword(null,"font-weight","font-weight",2085804583),"bold"], null)], null),"Price: ",cljs.core.deref(quarry_management.frontend.price.calculated_price)], null):null)], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"margin-top","margin-top",392161226),"30px"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label","label",1718410804),"Date from: "], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"type","type",1174270348),"date",new cljs.core.Keyword(null,"value","value",305978217),cljs.core.deref(quarry_management.frontend.price.date_from),new cljs.core.Keyword(null,"on-change","on-change",-732046149),(function (p1__11954_SHARP_){
return cljs.core.reset_BANG_(quarry_management.frontend.price.date_from,p1__11954_SHARP_.target.value);
})], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"label","label",1718410804),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"margin-left","margin-left",2015598377),"10px"], null)], null),"Date to: "], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"input","input",556931961),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"type","type",1174270348),"date",new cljs.core.Keyword(null,"value","value",305978217),cljs.core.deref(quarry_management.frontend.price.date_to),new cljs.core.Keyword(null,"on-change","on-change",-732046149),(function (p1__11955_SHARP_){
return cljs.core.reset_BANG_(quarry_management.frontend.price.date_to,p1__11955_SHARP_.target.value);
})], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button","button",1456579943),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"margin-left","margin-left",2015598377),"10px"], null),new cljs.core.Keyword(null,"on-click","on-click",1632826543),(function (){
return quarry_management.frontend.api.calculate_revenue_from_to(cljs.core.deref(quarry_management.frontend.price.date_from),cljs.core.deref(quarry_management.frontend.price.date_to),(function (result){
return cljs.core.reset_BANG_(quarry_management.frontend.price.revenue,new cljs.core.Keyword(null,"revenue","revenue",943993380).cljs$core$IFn$_invoke$arity$1(result));
}));
})], null),"Calculate Total Revenue"], null),(cljs.core.truth_(cljs.core.deref(quarry_management.frontend.price.revenue))?new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"margin-top","margin-top",392161226),"10px",new cljs.core.Keyword(null,"font-weight","font-weight",2085804583),"bold"], null)], null),"Revenue: ",cljs.core.deref(quarry_management.frontend.price.revenue)], null):null)], null)], null);
})], null));
});

//# sourceMappingURL=quarry_management.frontend.price.js.map
